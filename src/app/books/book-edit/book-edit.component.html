<h4>Book Edit 🖍 <a routerLink="..">Back to Details</a></h4>

<ng-container *ngIf="book">
  <form #form="ngForm" (ngSubmit)="save(form.value)">
    <label for="title"
      >Title

      <input
        type="text"
        id="title"
        name="title"
        [(ngModel)]="book.title"
        minlength="5"
        required
        #title="ngModel"
        autocomplete="off"
      />

      <div [hidden]="!title.errors?.required || title.pristine">
        Title ist doch aber notwendig 🔥
      </div>
      <div [hidden]="!title.errors?.minlength || title.pristine">
        Das ist zu kurz 📏
      </div>
    </label>

    <label for="abstract"
      >Abstract
      <input
        type="text"
        id="abstract"
        name="abstract"
        [(ngModel)]="book.abstract"
        required
      />
    </label>

    <label for="author"
      >Author
      <input
        type="text"
        id="author"
        name="author"
        [(ngModel)]="book.author"
        required
      />
    </label>

    <button type="submit" [disabled]="!form.valid">Speichern</button>
  </form>

  <pre>
      {{ form.value | json }}
  </pre>
</ng-container>
